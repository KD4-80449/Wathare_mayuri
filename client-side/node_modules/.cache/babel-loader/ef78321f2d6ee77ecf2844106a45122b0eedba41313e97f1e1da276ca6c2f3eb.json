{"ast":null,"code":"var _jsxFileName = \"/home/sunbeam/Abhijeet_code/Wathare infotech/client-side/src/Application.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport 'chart.js/auto';\nimport 'chartjs-adapter-date-fns';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Application() {\n  _s();\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const fetchData = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/data');\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const jsonData = await response.json();\n      setData(jsonData.map(item => ({\n        ...item,\n        machine_status: item.machine_status !== null ? item.machine_status : 'missing',\n        vibration: item.vibration !== null ? item.vibration : 'missing'\n      })));\n    } catch (error) {\n      console.error('There was a problem with the fetch operation:', error);\n    }\n  };\n  const chartData = {\n    labels: data.map(item => item.ts),\n    datasets: [{\n      label: 'Vibration Levels',\n      data: data.map(item => item.vibration === 'missing' ? NaN : item.vibration),\n      backgroundColor: data.map(item => {\n        if (item.machine_status === 0) return 'yellow';else if (item.machine_status === 1) return 'green';else return 'red'; // Handle missing data\n      }),\n      borderColor: 'black',\n      borderWidth: 1\n    }]\n  };\n  const options = {\n    scales: {\n      x: {\n        type: 'time',\n        time: {\n          unit: 'minute'\n        }\n      },\n      y: {\n        beginAtZero: true\n      }\n    },\n    plugins: {\n      legend: {\n        display: false\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"This is Application's front page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Data from Node.js:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n        data: chartData,\n        options: options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n}\n_s(Application, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n_c = Application;\nexport default Application;\nvar _c;\n$RefreshReg$(_c, \"Application\");","map":{"version":3,"names":["React","useState","useEffect","Bar","jsxDEV","_jsxDEV","Application","_s","data","setData","fetchData","response","fetch","ok","Error","jsonData","json","map","item","machine_status","vibration","error","console","chartData","labels","ts","datasets","label","NaN","backgroundColor","borderColor","borderWidth","options","scales","x","type","time","unit","y","beginAtZero","plugins","legend","display","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/sunbeam/Abhijeet_code/Wathare infotech/client-side/src/Application.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport 'chart.js/auto';\nimport 'chartjs-adapter-date-fns';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nfunction Application() {\n\n    const [data, setData] = useState([]);\n\n    useEffect(() => {\n        fetchData();\n    }, []);\n\nconst fetchData = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/data');\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      const jsonData = await response.json();\n      setData(jsonData.map(item => ({...item,\n        machine_status: item.machine_status !== null ? item.machine_status : 'missing',\n        vibration: item.vibration !== null ? item.vibration : 'missing'\n    })));\n    } catch (error) {\n      console.error('There was a problem with the fetch operation:', error);\n    }\n  };\n\n  const chartData = {\n    labels: data.map(item => item.ts),\n    datasets: [\n        {\n            label: 'Vibration Levels',\n            data: data.map(item => item.vibration === 'missing' ? NaN : item.vibration),\n            backgroundColor: data.map(item => {\n                if (item.machine_status === 0) return 'yellow';\n                else if (item.machine_status === 1) return 'green';\n                else return 'red'; // Handle missing data\n            }),\n            borderColor: 'black',\n            borderWidth: 1,\n        }\n    ],\n};\n\nconst options = {\n    scales: {\n        x: {\n            type: 'time',\n            time: {\n                unit: 'minute'\n            }\n        },\n        y: {\n            beginAtZero: true\n        }\n    },\n    plugins: {\n        legend: {\n            display: false\n        }\n    }\n};\n\n    return ( \n        <div>\n      <h1>This is Application's front page</h1>\n      <div>\n        <h2>Data from Node.js:</h2>\n        <Bar data={chartData} options={options} />\n      </div>\n    </div>\n     );\n}\n\nexport default Application;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}